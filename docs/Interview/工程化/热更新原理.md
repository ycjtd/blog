### 什么是热更新原理？

开发过程中，代码发生变动后，webpack 会重新编译，编译后浏览器替换修改的模块，局部刷新，无需刷新整个页面

好处：节省开发时间，提升开发体验

### 原理

主要是通过 webscoket 实现，建立本地服务器和浏览器的双向通信，当代码变化后，重新编译后，通知浏览器请求更新的模块，替换原有的模块

1. 通过 webpack-dev-server 开启 server 服务，本地 server 启动后，再去启动 webscoket 服务，建立本地服务和浏览器的双向通信
2. webpack 每次编译后，会生成一个 hash 值，Hash 代表每一次编译的标识，本次输出的 Hash 值会编译新生成的文件标识，被作为下次热更新的标识
3. webpack 监听文件变化，（主要是通过文件的生成时间判断是否有变化），当文件变化后，重新编译
4. 编译结束后，通知浏览器请求变化的资源，同时将新生成的 hash 值传给浏览器，用于下次热更新使用
5. 浏览器拿到更新后的模块后，用新模块替换掉旧的模块，实现局部刷新

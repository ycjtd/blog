### 什么是内存泄漏？

- 内存泄漏是指应当被回收的对象没有被正常回收,导致内存占用越来越高,会导致应用程序速度变慢,高延时,奔溃等问题

### 内存泄漏的常见原因：

- 创建全局变量
- 被遗忘的计时器或回调函数
- 闭包
- 脱离 DOM 的引用

JavaScript 有自动的垃圾回收机制，当一个值，在内存中失去引用时，垃圾回收机制会根据特殊的算法找到它，并将其回收，释放内存

### 标记清除方法：

- 标记阶段：垃圾回收器从根对象开始遍历，每一个可以从根对象访问到的对象都会被添加一个标识，这个对象被标记为可到达对象
- 清除阶段：垃圾回收器对堆内存从头到尾进行线性遍历，如果发现有对象没有被标识为可到达对象，那么就将此对象占用的内存回收，并将原来标记为可到达对象的标识清除，以便进行下一次垃圾回收操作

缺点：垃圾收集后可能会造成大量的内存碎片

### 引用计数法：

将资源被引用的次数保存起来,当被引用次数为零时释放,局限性是当出现循环引用时,互相引用的对象不会被回收

### 怎么防止内存泄漏？

- 及时清除引用
- 使用 WeakMap 和 WeakSet，因为它们对于值的引用不计入垃圾回收机制
